/* StaticGen 1.0 â€” simple canvas static noise generator (c) @criography Marek Lenik MIT License */
var StaticGen=function(s,j){function t(){for(var k=a.tileWidth*(isNaN(a.stretchH)?1:a.stretchH),d=a.tileHeight*(isNaN(a.stretchV)?1:a.stretchV),c=0;c<u;c++)for(var b=0;b<v;b++)n.drawImage(h,0,g*a.tileHeight,a.tileWidth,a.tileHeight,c*k,b*d,"fit"===a.stretchH?a.width:1<a.stretchH?k:a.tileWidth,"fit"===a.stretchV?a.height:1<a.stretchV?d:a.tileHeight);g++;g===a.totalFrames&&(g=0)}function w(a,d,c,f){var e=s.createElement("canvas");e.width=a;e.height=d;e.classList.add("static");f&&(e.innerHTML=b.innerHTML,
b.innerHTML="");c&&b.appendChild(e);return e}function l(k,d){if(b=s.querySelector(k)){if(d)for(var c in d)d.hasOwnProperty(c)&&"undefined"!==typeof a[c]&&(a[c]=d[c],"fps"===c&&(a.fps=1E3/d.fps));0===a.width&&(a.width=b.offsetWidth);0===a.height&&(a.height=b.offsetHeight);a.tileWidth=Math.min(a.tileWidth,a.width);a.tileHeight=Math.min(a.tileHeight,a.height);a.tileWidth=Math.min(a.tileWidth,a.width);a.tileHeight=Math.min(a.tileHeight,a.height);u=a.width===a.tileWidth||"fit"===a.stretchH?1:Math.ceil(a.width/
a.tileWidth*a.stretchH);v=a.height===a.tileHeight||"fit"===a.stretchV?1:Math.ceil(a.height/a.tileHeight*a.stretchV);!f&&!h&&(f=w(a.width,a.height,!0,!0),n=f.getContext("2d"),h=w(a.tileWidth,a.tileHeight*a.totalFrames),p=h.getContext("2d"));c=a.pixelHeight+(a.scanLines?1:0);for(var g=0;g<a.totalFrames;g++)for(var e=0;e<Math.ceil(a.tileHeight/c);e++)for(var l=a.randomizeRows?-Math.round(Math.random()*a.pixelWidth):0,q=0;q<Math.ceil(a.tileWidth/a.pixelWidth)+(a.randomizeRows?1:0);q++){var r=Math.floor(150*
Math.random());p.fillStyle="rgba("+r+","+r+","+r+",255)";p.fillRect(l+q*a.pixelWidth,g*a.tileHeight+e*c,a.pixelWidth,a.pixelHeight)}m=j.setInterval(t,a.fps)}}var b,f,n,h,p,u=1,v=1,g=0,m=null,a={width:0,height:0,tileWidth:100,tileHeight:100,totalFrames:4,fps:125,pixelWidth:1,pixelHeight:1,stretchH:1,stretchV:1,scanLines:!1,randomizeRows:!1};return{init:function(a,b){l(a,b)},redraw:function(a){j.clearInterval(m);n.clearRect(0,0,f.width,f.height);h.width=a.tileWidth;h.height=a.tileHeight*a.totalFrames;
l(b.id?"#"+b.id:"."+b.classList[0],a)},pause:function(){j.clearInterval(m);f.classList.add("paused")},resume:function(){m=j.setInterval(t,a.fps);f.classList.remove("paused")}}}(document,window);